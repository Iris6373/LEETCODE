# Problem

## [394. Decode String](https://leetcode.com/problems/decode-string/)


# Solution 

## 1) Using String Stack - OPTIMAL

      
      
      
   ### Code : (.cpp)
    
          class Solution {
          public:
              void pr(stack<string> q) {
                  while (!q.empty()) {
                      cout << q.top() << " ";
                      q.pop();
                  }
                  cout << "\n";
              }

              string decodeString(string s) {
                  stack<string> st;
                  int i, j, n = s.size(), inside = 0;
                  string num = "", curr = "", ans = "", out = "";
                  for (i=0;i<n;i++) {
                      if (s[i]-'a' >= 0 && s[i]-'a' <= 25) {
                          if (st.size() == 0) out += s[i];
                          else curr += s[i];
                      }
                      else if (s[i] >= '0' && s[i] <= '9') {
                          if (out != "") {
                              st.push(out);
                              out = "";
                          }
                          if (curr != "") {
                              st.push(curr);
                              curr = "";
                          }
                          num += s[i];
                      }
                      else if (s[i] == '[') {
                          st.push(num);
                          num = "";
                          string sq = "[";
                          st.push(sq);
                      } 
                      else {
                          string s = curr;
                          curr = "";
                          while (st.top() != "[") {
                              s = st.top() + s;
                              st.pop();
                          }
                          st.pop();
                          int no = stoi(st.top());
                          st.pop();
                          string ins = "";
                          while (no--) ins += s;
                          st.push(ins);
                      }
                      // pr(st);
                  }
                  if (out != "") st.push(out);
                  if (curr != "") st.push(curr);
                  while (!st.empty()) {
                      ans = st.top() + ans;
                      st.pop();
                  }
                  return ans;
              }
          };

 
      Time Complexity  : O(N) 
                         Since we traverse through the array twice
      Space Complexity : O(1)
                         Since we only modify the input matrix and no auxillary space is used  
